{"version":3,"file":"dicoogle-webcore.js","sources":["dicoogle-webcore.js"],"names":["define","require","m","slots","plugins","packages","base_url","eventListeners","load","loadMenu","loadQuery","loadResult","result","addEventListener","eventName","fn","arrL","console","error","push","addResultListener","addPluginLoadListener","addMenuPluginLoadListener","addQueryPluginLoadListener","addResultPluginLoadListener","init","baseURL","length","updateSlots","document","log","slotsDOM","getElementsByTagName","i","loadSlot","fetchPlugins","Object","keys","slotDOM","elemAttributes","attributes","id","value","this","WebUISlot","slotIds","uri","service_get","slot-id","data","packageArray","name","load_plugin","issueQuery","query","options","callback","requestTime","Date","queryService","overrideService","dispatch_result","request","service","arg1","arg2","dom","attachments","attachPlugin","plugin","SlotId","Name","innerHTML","appendChild","createElement","render","TabIndex","Slot","refresh","isArray","it","ostring","prototype","toString","call","isFunction","packageJSON","slotId","dicoogle","getScript","PluginModule","onRegister","pluginInstance","thisPackage","onResult","Caption","caption","rename_element","node","renamed","a","setAttribute","nodeName","nodeValue","firstChild","parentNode","replaceChild","resultSlot","qs","end_url","join","qstring","qparams","pname","j","encodeURIComponent","req","XDomainRequest","XMLHttpRequest","onreadystatechange","readyState","status","code","message","statusText","type","getResponseHeader","mime","indexOf","split","JSON","parse","responseText","text","open","send","moduleName","script","prior","async","insertBefore","onload","_","isAbort","test","undefined","src","HTMLDicoogleSlotElement","elem","registerElement","create","HTMLDivElement","get","createdCallback","attachedCallback","attSlotId","detachedCallback"],"mappings":"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"}