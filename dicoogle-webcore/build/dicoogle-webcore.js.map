{"version":3,"file":"dicoogle-webcore.js","sources":["dicoogle-webcore.js"],"names":["define","require","m","slots","plugins","packages","base_url","eventListeners","load","loadMenu","loadQuery","loadResult","result","addEventListener","eventName","fn","arrL","console","error","push","addResultListener","addPluginLoadListener","addMenuPluginLoadListener","addQueryPluginLoadListener","addResultPluginLoadListener","init","baseURL","length","updateSlots","document","log","slotsDOM","getElementsByTagName","i","loadSlot","fetchPlugins","Object","keys","slotDOM","elemAttributes","attributes","id","value","this","WebUISlot","slotIds","uri","service_get","slot-id","data","packageArray","name","load_plugin","issueQuery","query","options","callback","requestTime","Date","dispatch_result","request","service","arg1","arg2","dom","attachments","attachPlugin","plugin","SlotId","Name","innerHTML","appendChild","createElement","render","TabIndex","Slot","refresh","isArray","it","ostring","prototype","toString","call","isFunction","packageJSON","slotId","dicoogle","getScript","PluginModule","onRegister","pluginInstance","thisPackage","onResult","Caption","caption","rename_element","node","renamed","a","setAttribute","nodeName","nodeValue","firstChild","parentNode","replaceChild","resultSlot","qs","end_url","join","qstring","qparams","pname","j","encodeURIComponent","req","XDomainRequest","XMLHttpRequest","onreadystatechange","readyState","status","code","message","statusText","type","getResponseHeader","mime","indexOf","split","JSON","parse","responseText","text","open","send","moduleName","script","prior","async","insertBefore","onload","_","isAbort","test","undefined","src","HTMLDicoogleSlotElement","elem","registerElement","create","HTMLDivElement","get","createdCallback","attachedCallback","attSlotId","detachedCallback"],"mappings":"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"}