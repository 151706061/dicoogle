{"version":3,"file":"dicoogle-webcore.js","sources":["dicoogle-webcore.js"],"names":["define","require","m","slots","plugins","packages","base_url","eventListeners","load","loadMenu","loadQuery","loadResult","result","addEventListener","eventName","fn","arrL","console","error","push","addResultListener","addPluginLoadListener","addMenuPluginLoadListener","addQueryPluginLoadListener","addResultPluginLoadListener","init","baseURL","length","updateSlots","document","log","slotsDOM","getElementsByTagName","i","loadSlot","fetchPlugins","Object","keys","slotDOM","elemAttributes","attributes","id","value","this","WebUISlot","slotIds","uri","service_get","slot-id","data","packageArray","name","load_plugin","issueQuery","query","options","callback","requestTime","Date","queryService","overrideService","dispatch_result","request","service","arg1","arg2","dom","attachments","attachPlugin","plugin","SlotId","Name","innerHTML","appendChild","createElement","pluginDOM","render","TabIndex","Slot","refresh","isArray","it","ostring","prototype","toString","call","isFunction","packageJSON","slotId","dicoogle","getScript","PluginModule","onRegister","pluginInstance","thisPackage","onResult","Caption","caption","rename_element","node","renamed","a","setAttribute","nodeName","nodeValue","firstChild","parentNode","replaceChild","resultSlot","qs","end_url","join","qstring","qparams","pname","j","encodeURIComponent","req","XDomainRequest","XMLHttpRequest","onreadystatechange","readyState","status","code","message","statusText","type","getResponseHeader","mime","indexOf","split","JSON","parse","responseText","text","open","send","moduleName","script","prior","async","insertBefore","onLoadHandler","_","isAbort","test","onload","undefined","src","HTMLDicoogleSlotElement","elem","registerElement","create","HTMLDivElement","get","createdCallback","attachedCallback","attSlotId","detachedCallback"],"mappings":"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"}