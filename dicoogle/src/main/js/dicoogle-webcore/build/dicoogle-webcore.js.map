{"version":3,"file":"dicoogle-webcore.js","sources":["dicoogle-webcore.js"],"names":["define","require","isFunction","m","HTMLDicoogleSlotElement","elem","document","registerElement","prototype","Object","create","HTMLDivElement","slotId","get","this","attributes","value","createdCallback","attachedCallback","attSlotId","console","error","log","slots","plugins","packages","base_url","eventListeners","load","loadMenu","loadQuery","loadResult","result","addEventListener","eventName","fn","arrL","push","addResultListener","addPluginLoadListener","addMenuPluginLoadListener","addQueryPluginLoadListener","addResultPluginLoadListener","init","baseURL","length","updateSlots","slotsDOM","getElementsByTagName","i","loadSlot","fetchPlugins","keys","slotDOM","elemAttributes","id","WebUISlot","slotIds","uri","service_get","slot-id","data","packageArray","name","load_plugin","onRegister","pluginInstance","render","thisPackage","dicoogle","onResult","Name","SlotId","Caption","caption","attachPlugin","issueQuery","query","options","callback","requestTime","Date","dispatch_result","request","service","arg1","arg2","dom","attachments","plugin","innerHTML","appendChild","createElement","TabIndex","Slot","refresh","isArray","it","ostring","toString","call","packageJSON","getScript","PluginModule","rename_element","node","renamed","a","setAttribute","nodeName","nodeValue","firstChild","parentNode","replaceChild","resultSlot","qs","end_url","join","qstring","qparams","pname","j","encodeURIComponent","req","XDomainRequest","XMLHttpRequest","onreadystatechange","readyState","status","code","message","statusText","type","getResponseHeader","mime","indexOf","split","JSON","parse","responseText","text","open","send","moduleName","script","prior","async","insertBefore","onload","_","isAbort","test","undefined","src"],"mappings":"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"}